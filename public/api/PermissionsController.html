<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: PermissionsController
  
    &mdash; MAdeK-API
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/rest_plugin.js"></script>


	<style type="text/css">
		#toc {top: 24px;}
		#toc .title {display: none;}
		#toc a:link, #content a:visited { text-decoration: none; color: #05a; }
		#toc a:hover { background: #ffffa5; }
		pre code {
			display: block;
			background: #EAF0FF;
			padding: 12px;
			line-height: 1.9em;
		}
		a.back {
			font-size: 1.2em;
			padding: 4px;
		}
		p.method_desc {
			padding: 16px 0 0 14px;
			font-size: 1.2em;
		}
		h2 {
			margin: 2.4em 0 0.5em;
		}
		h2 + p {
			font-size: 1.2em;
			margin-bottom: 62px;
		}
		.method {
			display: block;
			margin-top: 40px;
			padding-top: 0;
			position: relative;
			box-shadow: 0 -6px 12px rgba(0,0,0,0.1);
		}
		h3 {
			font-size: 1.2em;
			font-weight: normal;
			padding-top: 6px;
			margin-bottom: -6px;
		}
		h4 {
			margin: 0;
		}
		#resources {
			padding: 14px 20px 52px;
		}
		#resources li {
			border-right: 1px solid #0055AA;
			display: block;
			font-size: 1.4em;
			float: left;
			padding-right: 14px;
			padding-left: 12px;
		}
		.resource_url {
			border: 1px solid white;
			display: block;
			background: #EAF0FF;
			margin-top: 11px;
			padding: 12px 12px 18px;
		}
		#search_frame #search {
			display: none;
		}
		.parameters, .response_fields {
			background: none repeat scroll 0 0 #EAF0FF;
		}
		.parameters .required {
			background: #d5e1ff;
			padding: 12px;
			border: 1px solid white;
		}
		.parameters .optional, .response_fields {
			padding: 18px 12px 12px 12px;
			border: 1px solid white;
		}
		.parameters .optional ul li, .parameters .required li, .response_fields li {
			display: block;
			padding: 4px 0 0 6px;
		}
		.parameters .optional ul li .name, .parameters .required li .name, .response_fields li .name {
			font-weight: bold;
		}
		.parameters .optional ul li .text, .parameters .required li .text, .response_fields li .text {
			display: block;
		}
		.examples {
			padding: 32px 12px 12px 12px;
		}
		.example {			
			border-bottom: 1px solid #BBB;
			display: block;
			padding: 18px 0 26px;
			margin-bottom: 14px;
			margin-top: 8px;
		}
		.example .description {
			display: block;
			font-size: 1.2em;
			margin: 8px 0;
		}
		
		.example .hash {
			display: block;
			background: #EEF;
			font-size: 1.1em;
			border-radius: 4px;
			box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
			padding: 12px;
		}
		
		.example .hash .type {
			display: block;
			font-size: 0.8em;
			color: #99A;
			padding-bottom: 6px;
		}
		
		.example .hash.request {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}
		
		.example .hash.response {
			border-top: 1px solid white;
			border-top-left-radius: 0;
			border-top-right-radius: 0;
		}
	</style>
	<script type="text/javascript">
		//<![CDATA[
		
			function setup_toc() {
	 		  if ($('#content').length === 0) return;
			  var _toc = $('<ol class="top"></ol>');
			  var show = false;
			  var toc = _toc;
			  var counter = 0;
			  var tags = ['h2', 'h3', 'h4', 'h5', 'h6'];
			  var i;
			  if ($('#content h1').length > 1) tags.unshift('h1');
			  for (i = 0; i < tags.length; i++) { tags[i] = '#content ' + tags[i]; }
			  var lastTag = parseInt(tags[0][1], 10);
			  $(tags.join(', ')).each(function() {
			    if (this.id == "content") return;
			    show = true;
			    var thisTag = parseInt(this.tagName[1], 10);
			    if (this.id.length === 0) {
			      var proposedId = $(this).text().replace(/[^a-z0-9-]/ig, '_');
			      if ($('#' + proposedId).length > 0) { proposedId += counter; counter++; }
			      this.id = proposedId;
			    }
			    if (thisTag > lastTag) { 
			      for (i = 0; i < thisTag - lastTag; i++) { 
			        var tmp = $('<ol/>'); toc.append(tmp); toc = tmp; 
			      } 
			    }
			    if (thisTag < lastTag) { 
			      for (i = 0; i < lastTag - thisTag; i++) toc = toc.parent(); 
			    }
			    toc.append('<li><a href="#' + this.id + '">' + $(this).text() + '</a></li>');
			    lastTag = thisTag;
			  });
			  if (!show) return;
			  html = '<div id="toc"><p class="title"><a class="hide_toc" href="#"><strong>Table of Contents</strong></a> <small>(<a href="#" class="float_toc">left</a>)</small></p></div>';
			  $('#content').prepend(html);
			  $('#toc').append(_toc);
			  $('#toc .hide_toc').toggle(function() { 
			    $('#toc .top').slideUp('fast');
			    $('#toc').toggleClass('hidden');
			    $('#toc .title small').toggle();
			  }, function() {
			    $('#toc .top').slideDown('fast');
			    $('#toc').toggleClass('hidden');
			    $('#toc .title small').toggle();
			  });
			  $('#toc .float_toc').toggle(function() { 
			    $(this).text('float');
			    $('#toc').toggleClass('nofloat');
			  }, function() {
			    $(this).text('left');
			    $('#toc').toggleClass('nofloat');
			  });
			}
			$(document).ready(setup_toc);
		//]]>
	</script>
  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="search">
  <!-- <a id="topic_list_link" href="#">Topic List</a> -->
  <a id="resource_list_link" href="#">Resources</a>
</div>

    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content" style="padding-top: 12px;">
		<div class="service">
  <h1 class="noborder title">MAdeK-API</h1>
    <a class="back" href="index.html" title="back to the overview">&laquo; back to overview</a>
    <h2>Permissions</h2>
    
<p>Permissions are actions that specify if or if not a subject can perform
those actions on a specific resource. Possible actions are: view, edit,
manage, download</p>

<div class="tags">
  

</div><div class="tags">
  


</div>

  <div id="Services" class="method_details_list">
    
		<div class="method">
			<p class="method_desc">Get permissions for a collection of resources</p>
			<h3 class="resource_url"><strong>/permissions</strong> [GET]</h3>

			<div class="parameters">	
				
					<div class="required">
						<h4>Required Parameters</h4>
						
							<ul>
								<li>
									<span class="name">media_resource_ids</span>
									<span class="type">Array</span>
									<span class="text">The collection of resources you want to fetch the permissios for</span>
								</li>
							</ul>
						
					</div>
				

				
					<div class="optional">
						<h4>Optional Parameters</h4>
						
							<ul>
								<li>
									<span class="name">with[users]</span>
									<span class="type">Hash</span>
									<span class="text">Adds all users to the respond that have the same permissions than you</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">with[groups]</span>
									<span class="type">Hash</span>
									<span class="text">Adds all groups to the respond that have the same permissions than you</span>
								</li>
							</ul>
						
					</div>
				
			</div><!-- parameters -->
			
			
				<div class="response_fields">
					<h4>Response Fields</h4>
					
						<ul>
							<li>
								<span class="name">public</span>
								<span class="type">Hash</span>
								<span class="text">The object containing permission-actions for the public</span>
							</li>
						</ul>
					
						<ul>
							<li>
								<span class="name">public.view</span>
								<span class="type">Array</span>
								<span class="text">The MediaResourceIds that the public can view</span>
							</li>
						</ul>
					
						<ul>
							<li>
								<span class="name">public.edit</span>
								<span class="type">Array</span>
								<span class="text">The MediaResourceIds that the public can edit</span>
							</li>
						</ul>
					
						<ul>
							<li>
								<span class="name">public.download</span>
								<span class="type">Array</span>
								<span class="text">The MediaResourceIds that the public can download</span>
							</li>
						</ul>
					
						<ul>
							<li>
								<span class="name">you</span>
								<span class="type">Hash</span>
								<span class="text">The object containing permission-actions for you</span>
							</li>
						</ul>
					
						<ul>
							<li>
								<span class="name">you.view</span>
								<span class="type">Array</span>
								<span class="text">The MediaResourceIds that you can view</span>
							</li>
						</ul>
					
						<ul>
							<li>
								<span class="name">you.edit</span>
								<span class="type">Array</span>
								<span class="text">The MediaResourceIds that you can edit</span>
							</li>
						</ul>
					
						<ul>
							<li>
								<span class="name">you.download</span>
								<span class="type">Array</span>
								<span class="text">The MediaResourceIds that you can download</span>
							</li>
						</ul>
					
						<ul>
							<li>
								<span class="name">you.manage</span>
								<span class="type">Array</span>
								<span class="text">The MediaResourceIds that you can manage</span>
							</li>
						</ul>
					
				</div>
			
			
			
				<div class="examples">
					<h4>Examples</h4>
					
						<div class="example">
							
							
							
							<span class="description">Request the setted permissions for the media resources with id 1,2 and 3</span>
							<span class="hash request">
								<strong class="type">Request</strong>
								{"media_resources_ids": [1,2,3]}
							</span>
							<span class="hash response">
								<strong class="type">Response</strong>
								{"public":{"view":[],"edit":[],"download":[]},"you":{"name":"Muster,Max","id":31,"view":[1],"edit":[1],"download":[1],"manage":[1]}}
							</span>
							<span class="description">This response asserts that the public cannot view the MediaResources (with id 1,2 and three) but that you can view the MediaResource with id 1</span>
						</div>
					
						<div class="example">
							
							
							
							<span class="description">Request the setted permissions for the media resources with id 1,2 and 3. This Request adds all users to the respond that have the same permissions than you</span>
							<span class="hash request">
								<strong class="type">Request</strong>
								{"media_resources_ids": [1,2,3], "with": {"users": true}}
							</span>
							<span class="hash response">
								<strong class="type">Response</strong>
								{"public":{"view":[],"edit":[],"download":[]},"you":{"name":"Muster,Max","id":31,"view":[1],"edit":[1],"download":[1],"manage":[1]},"users":[{"id":31, "name": "Muster, Max", "view": [1], "edit": [1], "download": [], "edit": [1]}]}
							</span>
							<span class="description"></span>
						</div>
					
						<div class="example">
							
							
							
							<span class="description">Request the setted permissions for the media resources with id 1,2 and 3. This Request adds all users to the respond that have the same permissions than you</span>
							<span class="hash request">
								<strong class="type">Request</strong>
								{"media_resources_ids": [1,2,3], "with": {"users": true, "groups": true}}
							</span>
							<span class="hash response">
								<strong class="type">Response</strong>
								{"public":{"view":[],"edit":[],"download":[]},"you":{"name":"Muster,Max","id":31,"view":[1],"edit":[1],"download":[1],"manage":[1]},"users":[{"id":31, "name": "Muster, Max", "view": [1], "edit": [1], "download": [], "edit": [1]}],"groups":[{"id":31, "name": "Group of Users", "view": [1], "edit": [1], "download": [], "edit": [1]}]}
							</span>
							<span class="description"></span>
						</div>
					
						<div class="example">
							
							
							
							<span class="description">Request the setted permissions for the media resources with id 1,2 and 3 and add additionally the owners of the provided MediaResources to the respond.</span>
							<span class="hash request">
								<strong class="type">Request</strong>
								{"media_resources_ids": [1,2,3]}
							</span>
							<span class="hash response">
								<strong class="type">Response</strong>
								{"public":{"view":[],"edit":[],"download":[]},"you":{"name":"Muster,Max","id":31,"view":[1],"edit":[1],"download":[1],"manage":[1]},"owners":[{"id":170371,"name":"Muster, Max","media_resource_ids":[1]}]}
							</span>
							<span class="description"></span>
						</div>
					
				</div>
			
		</div>	
    
		<div class="method">
			<p class="method_desc">Update/set permissions for a collection of resources</p>
			<h3 class="resource_url"><strong>/permissions</strong> [PUT]</h3>

			<div class="parameters">	
				
					<div class="required">
						<h4>Required Parameters</h4>
						
							<ul>
								<li>
									<span class="name">media_resource_ids</span>
									<span class="type">Array</span>
									<span class="text">The collection of resources you want to change the permissios for</span>
								</li>
							</ul>
						
					</div>
				

				
					<div class="optional">
						<h4>Optional Parameters</h4>
						
							<ul>
								<li>
									<span class="name">owner</span>
									<span class="type">Integer</span>
									<span class="text">The user-id that will be set as owner for the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">users</span>
									<span class="type">Array</span>
									<span class="text">A collection of users that get the defined access for the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">users[]</span>
									<span class="type">Hash</span>
									<span class="text">A hash representing a user-permission</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">users[].id</span>
									<span class="type">Integer</span>
									<span class="text">The id of a specific user</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">users[].view</span>
									<span class="type">Boolean</span>
									<span class="text">The view permission to set for the specified user and the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">users[].download</span>
									<span class="type">Boolean</span>
									<span class="text">The download permission to set for the specified user and the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">users[].edit</span>
									<span class="type">Boolean</span>
									<span class="text">The edit permission to set for the specified user and the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">users[].manage</span>
									<span class="type">Boolean</span>
									<span class="text">The manage permission to set for the specified user and the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">groups</span>
									<span class="type">Array</span>
									<span class="text">A collection of groups that get the defined access for the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">group[]</span>
									<span class="type">Hash</span>
									<span class="text">A hash representing a group-permission</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">groups[].id</span>
									<span class="type">Integer</span>
									<span class="text">The id of a specific group</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">groups[].view</span>
									<span class="type">Boolean</span>
									<span class="text">The view permission to set for the specified group and the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">groups[].download</span>
									<span class="type">Boolean</span>
									<span class="text">The download permission to set for the specified group and the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">groups[].edit</span>
									<span class="type">Boolean</span>
									<span class="text">The edit permission to set for the specified group and the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">public</span>
									<span class="type">Hash</span>
									<span class="text">The permission hash to set for public.</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">public[].view</span>
									<span class="type">Boolean</span>
									<span class="text">The public view permission to set for the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">public[].download</span>
									<span class="type">Boolean</span>
									<span class="text">The public download permission to set for the defined MediaResources</span>
								</li>
							</ul>
						
							<ul>
								<li>
									<span class="name">public[].edit</span>
									<span class="type">Boolean</span>
									<span class="text">The public edit permission to set for the defined MediaResources</span>
								</li>
							</ul>
						
					</div>
				
			</div><!-- parameters -->
			
			
				<div class="response_fields">
					<h4>Response Fields</h4>
					
				</div>
			
			
			
				<div class="examples">
					<h4>Examples</h4>
					
						<div class="example">
							
							
							
							<span class="description">Sets the owner for the MediaResources 1,2 and 3 to the user with id 15</span>
							<span class="hash request">
								<strong class="type">Request</strong>
								{"media_resources_ids": [1,2,3], "owner": 15}
							</span>
							<span class="hash response">
								<strong class="type">Response</strong>
								"" (empty response body with status: 200 OK)
							</span>
							<span class="description"></span>
						</div>
					
						<div class="example">
							
							
							
							<span class="description">Sets the permissions for the user with id 191 for the MediaResources with id 1,2 and 3. It doent touches the view permissions (because the information is not delivered) and sets edit and manage to false, but download to true.</span>
							<span class="hash request">
								<strong class="type">Request</strong>
								{"media_resources_ids": [1,2,3], "users": [{"id": 191, "edit": false, "manage": false, "download": true}]}
							</span>
							<span class="hash response">
								<strong class="type">Response</strong>
								"" (empty response body with status: 200 OK)
							</span>
							<span class="description"></span>
						</div>
					
						<div class="example">
							
							
							
							<span class="description">Sets the permissions for the group with id 231 for the MediaResources with id 1,2 and 3. It just sets the view-permission to true and doesnt touch the other pemissions.</span>
							<span class="hash request">
								<strong class="type">Request</strong>
								{"media_resources_ids": [1,2,3], "groups": [{"id": 231, "view": true}]}
							</span>
							<span class="hash response">
								<strong class="type">Response</strong>
								"" (empty response body with status: 200 OK)
							</span>
							<span class="description"></span>
						</div>
					
						<div class="example">
							
							
							
							<span class="description">Sets the public-permissions for the MediaResources with id 1,2 and 3. It just sets the view-permission to true and doesnt touch the other pemissions.</span>
							<span class="hash request">
								<strong class="type">Request</strong>
								{"media_resources_ids": [1,2,3], "public": {"view": true}}
							</span>
							<span class="hash response">
								<strong class="type">Response</strong>
								"" (empty response body with status: 200 OK)
							</span>
							<span class="description"></span>
						</div>
					
				</div>
			
		</div>	
    
  </div>

</div>













	</div>
    
    <div id="footer">
  Generated on Wed Apr 25 11:33:35 2012 with ruby-1.9.3
</div>

  </body>
</html>